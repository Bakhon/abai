<template>

  <div class="row" v-if="microserviceApiVersion && frontendApiVersion === microserviceApiVersion">
    <div>
      <modal class="modal-bign-wrapper" name="templateSelectorModal" draggable=".modal-bign-header"
             :width="400" :height="'auto'" style="background: transparent;" :adaptive="true">
        <div class="modal-bign modal-bign-container">
          <div class="modal-bign-header">
            <div class="modal-bign-title">Выбор шаблона</div>
            <button type="button" class="modal-bign-button" @click="closeModal('templateSelectorModal')">
              Закрыть
            </button>
          </div>
          <div class="templates">
            <div v-for="(template, index) in templates" v-if="templates"
                 @click="loadTemplate(index); closeModal('templateSelectorModal')">
              {{ template['name'] }}
            </div>
          </div>

          <div v-if="!templates || templates.length === 0">
            Нет сохраненных шаблонов
          </div>
        </div>
      </modal>

    </div>
    <div>
      <modal class="modal-bign-wrapper" name="newTemplateNameModal" draggable=".modal-bign-header"
             :width="400" :height="'auto'" style="background: transparent;" :adaptive="true">
        <div class="modal-bign modal-bign-container">
          <div class="modal-bign-header">
            <div class="modal-bign-title">Имя шаблона</div>
            <button type="button" class="modal-bign-button" @click="closeModal('newTemplateNameModal')">
              Закрыть
            </button>
          </div>
          <input type="text" placeholder="Имя шаблона" id="template-name" v-model="newTemplateName">
          <button type="button" :disabled="newTemplateName.length === 0" class="modal-bign-button template-name-ok"
                  @click="saveTemplate(); closeModal('newTemplateNameModal');">
            Ок
          </button>
        </div>
      </modal>

    </div>


    <div :class="{'hide': isLeftSectionHided}" class="bg-dark left-section">
      <div class="col ">
        <div class=" menu">
          <div class="left-section-title" v-bind:class="{active: currentStructureType === 'org'}"
               @click="onMenuClick('org')">
            <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M6.05078 0.00301123H11.098V5.0498H6.05078V0.00301123Z"
                    fill="#fff"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M0 10.0743H5.0472V15.1211H0V10.0743Z" fill="#fff"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M6.05078 10.0743H11.098V15.1211H6.05078V10.0743Z"
                    fill="#fff"/>
              <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M3.02602 8.06429H8.07322V9.06934H9.07775V8.06429H14.1249V9.06934H15.1296V7.05973H9.07775V6.05469H8.07322V7.05973H2.02148V9.06934H3.02602V8.06429Z"
                    fill="#fff"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M12.1035 10.0743H17.1506V15.1211H12.1035V10.0743Z"
                    fill="#fff"/>
            </svg>
            Оргструктура
          </div>
          <div class="left-section-title" v-bind:class="{active: currentStructureType === 'geo'}"
               @click="onMenuClick('geo')">
            <svg width="17" height="20" viewBox="0 0 17 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M8.26799 19.0107L0 13.1419L1.48826 12.0855L8.25891 16.8896L15.0387 12.0779L16.5361 13.1419L8.26799 19.0107ZM8.26799 15.4307L0 9.56193L1.48826 8.50553L8.25891 13.3097L15.0387 8.49723L16.5361 9.56193L8.26799 15.4307ZM8.26799 11.8508L1.49733 7.04655L0 5.98193L8.26799 0.113119L16.5361 5.98193L15.0292 7.04655L8.26799 11.8508Z"
                    fill="#fff"/>
            </svg>
            Геоструктура
          </div>
        </div>
        <div class="left-section-inner"> 
          <div class="left-section-inner-content">
            <form  action="" class="search-report">
                <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.34556 0C5.5525 0 6.57894 0.422504 7.42353 1.26751C8.26857 2.11206 8.69107 3.13846 8.69107 4.34536C8.69107 5.19036 8.46488 5.95982 8.0125 6.65419L11 9.64157L9.6415 11L6.654 8.01217C5.92975 8.46453 5.16029 8.69116 4.34556 8.69116C3.13816 8.69116 2.11262 8.26866 1.26758 7.42365C0.42209 6.57865 0 5.5527 0 4.34536C0 3.13846 0.42209 2.11206 1.26758 1.26751C2.11262 0.422504 3.13816 0 4.34556 0ZM4.34556 1.9465C3.68147 1.9465 3.11553 2.18037 2.64777 2.64811C2.18002 3.11585 1.94615 3.68175 1.94615 4.34536C1.94615 5.00942 2.18002 5.57486 2.64777 6.0426C3.11553 6.51079 3.68147 6.74466 4.34556 6.74466C5.00919 6.74466 5.57509 6.51079 6.04285 6.0426C6.51106 5.57486 6.74448 5.00942 6.74448 4.34536C6.74448 3.68175 6.51106 3.11585 6.04285 2.64811C5.57509 2.18037 5.00919 1.9465 4.34556 1.9465Z" fill="#9EA4C9"/>
                </svg>
                <div class="search-report-inner">
                  <input type="text" class="search-report-input" placeholder="Поиск">
                  <button class="search-report-btn">
                      OK
                  </button>
                </div>
            </form>
            <div class="top-drop-down-asside">
                <div class="dropdown-parent">
                    <svg width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M6.38408 10.6943H9.64355V9.06421H6.38408V10.6943ZM0.679688 0.91512V2.54525H15.3479V0.91512H0.679688ZM3.12422 6.61955H12.9034V4.98983H3.12422V6.61955Z"
                            fill="white"/>
                    </svg>
                    <div class="dropdown">
                      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <div class="dropdown-inner-text">
                          {{ getOptionName() }}
                        </div>
                        <div class="icon-pointer"></div>
                      </button>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <ul>
    
                          <li @click="onSelectStructureType(structureType)"
                              v-for="structureType in structureTypes[currentStructureType]"
                              class="dropdown-item">
    
                            <div class="dropdown-item-inner">
                              <a href="#">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                  <path
                                      d="M3.28389 0C3.20906 0.00444468 3.14131 0.0450155 3.10307 0.108485C2.97711 0.310852 2.7438 0.439259 2.48828 0.439259H2.48467H1.31947C1.29558 0.438815 1.27177 0.443719 1.24891 0.449052C0.926348 0.499233 0.675572 0.775592 0.675572 1.10623C0.675572 1.47181 0.981535 1.77291 1.35299 1.77291C1.36094 1.77273 1.36889 1.77291 1.37679 1.77291C1.38469 1.77291 1.39264 1.77291 1.40059 1.77291H2.48464H2.48825H4.06537C4.19275 1.77291 4.29118 1.86976 4.29118 1.99514C4.29118 2.12052 4.19275 2.21737 4.06537 2.21737H4.06447C4.05918 2.2172 4.0539 2.2172 4.04861 2.21737H2.71582C2.69189 2.21715 2.66807 2.22185 2.64526 2.22763C2.05583 2.27599 1.58062 2.74397 1.58062 3.32578C1.57881 3.45125 1.68248 3.55344 1.80995 3.55148C1.93466 3.55148 2.03418 3.44845 2.03223 3.32578C2.03223 2.96878 2.33135 2.67575 2.72024 2.66428C2.57435 2.84892 2.48384 3.07634 2.48384 3.32578C2.48204 3.45125 2.5857 3.55344 2.71318 3.55148C2.83789 3.55148 2.93741 3.44845 2.93546 3.32578C2.93546 2.96162 3.24609 2.66255 3.64639 2.66255C3.65403 2.66264 3.6617 2.66237 3.66934 2.66255H4.04862C4.05178 2.66255 4.05508 2.66255 4.05833 2.66255H4.06537C4.43683 2.66255 4.74279 2.36138 4.74279 1.99585C4.74279 1.65601 4.47764 1.37444 4.14211 1.33603C4.12224 1.33115 4.10178 1.32846 4.08125 1.3289H2.50061C2.49532 1.32872 2.49004 1.32872 2.48471 1.3289H2.25802C2.13064 1.3289 2.03222 1.23205 2.03222 1.10667C2.03222 0.981326 2.13064 0.884432 2.25802 0.884432H2.48471H2.48832H2.49013C2.50589 0.884032 2.52156 0.879998 2.53688 0.87822C2.92647 0.862219 3.28639 0.666666 3.48862 0.34176C3.58205 0.19682 3.48035 0.00674779 3.30603 0.000569691C3.29867 0.000214117 3.29131 0.000214117 3.28399 0.000569691L3.28389 0ZM1.35307 0.883727H1.62298C1.59742 0.953597 1.58067 1.02787 1.58067 1.10596C1.58067 1.18423 1.59733 1.25815 1.62298 1.32819H1.4007C1.39334 1.32811 1.38598 1.32842 1.37867 1.32819H1.37596C1.36832 1.32819 1.36069 1.32819 1.35301 1.32819C1.22563 1.32819 1.12721 1.2313 1.12721 1.10596C1.12721 0.980576 1.22563 0.883727 1.35301 0.883727H1.35307ZM0.903226 4.21987C0.903226 4.621 0.899161 4.97773 0.895277 5.33104H6.33051C6.32645 4.97773 6.32256 4.621 6.32256 4.21987H0.903226ZM8.58064 5.55327L6.8183 6.68354C6.84481 7.50185 6.88578 8.12051 6.93208 8.66454H7.22581V9.99795H7.0882C7.14342 10.3326 7.20119 10.6242 7.25933 10.8522C7.4617 11.6456 7.67717 12.2082 7.67742 13.9956L14 14V5.55425L11.2903 7.33212V5.55425L8.58064 7.33212V5.55327ZM0.889113 5.7755C0.780595 12.1532 0 10.4834 0 13.9982H7.22581C7.22581 10.4834 6.44433 12.1532 6.33581 5.7755H0.889113ZM8.58064 8.66449H9.93548V9.99789H8.58064V8.66449ZM11.2903 8.66449H12.6452V9.99789H11.2903V8.66449ZM8.58064 11.3313H9.93548V12.6647H8.58064V11.3313ZM11.2903 11.3313H12.6452V12.6647H11.2903V11.3313Z"
                                      fill="#868BB2"/>
                                </svg>
                                {{ structureType['name'] }}
                              </a>
                            </div>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
             
              <div class="dropdown-parent">
                <svg width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M6.38408 10.6943H9.64355V9.06421H6.38408V10.6943ZM0.679688 0.91512V2.54525H15.3479V0.91512H0.679688ZM3.12422 6.61955H12.9034V4.98983H3.12422V6.61955Z"
                        fill="white"/>
                </svg>
                <div class="dropdown">
                  <!-- Выбор типа скважин: -->
                  <button class="btn btn-secondary dropdown-toggle" type="button" id="wellSelector"
                          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <div class="dropdown-inner-text">
                      {{ wellSheetTypes[wellTypeSelected] }}
                    </div>
                    <div class="icon-pointer"></div>
                  </button>
                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <ul>

                      <li @click="onSelectWellSheetType(sheetType)"
                          v-for="(sheetDescription, sheetType) in wellSheetTypes"
                          class="dropdown-item">

                        <div class="dropdown-item-inner">
                          <a href="#">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                              <path
                                  d="M3.28389 0C3.20906 0.00444468 3.14131 0.0450155 3.10307 0.108485C2.97711 0.310852 2.7438 0.439259 2.48828 0.439259H2.48467H1.31947C1.29558 0.438815 1.27177 0.443719 1.24891 0.449052C0.926348 0.499233 0.675572 0.775592 0.675572 1.10623C0.675572 1.47181 0.981535 1.77291 1.35299 1.77291C1.36094 1.77273 1.36889 1.77291 1.37679 1.77291C1.38469 1.77291 1.39264 1.77291 1.40059 1.77291H2.48464H2.48825H4.06537C4.19275 1.77291 4.29118 1.86976 4.29118 1.99514C4.29118 2.12052 4.19275 2.21737 4.06537 2.21737H4.06447C4.05918 2.2172 4.0539 2.2172 4.04861 2.21737H2.71582C2.69189 2.21715 2.66807 2.22185 2.64526 2.22763C2.05583 2.27599 1.58062 2.74397 1.58062 3.32578C1.57881 3.45125 1.68248 3.55344 1.80995 3.55148C1.93466 3.55148 2.03418 3.44845 2.03223 3.32578C2.03223 2.96878 2.33135 2.67575 2.72024 2.66428C2.57435 2.84892 2.48384 3.07634 2.48384 3.32578C2.48204 3.45125 2.5857 3.55344 2.71318 3.55148C2.83789 3.55148 2.93741 3.44845 2.93546 3.32578C2.93546 2.96162 3.24609 2.66255 3.64639 2.66255C3.65403 2.66264 3.6617 2.66237 3.66934 2.66255H4.04862C4.05178 2.66255 4.05508 2.66255 4.05833 2.66255H4.06537C4.43683 2.66255 4.74279 2.36138 4.74279 1.99585C4.74279 1.65601 4.47764 1.37444 4.14211 1.33603C4.12224 1.33115 4.10178 1.32846 4.08125 1.3289H2.50061C2.49532 1.32872 2.49004 1.32872 2.48471 1.3289H2.25802C2.13064 1.3289 2.03222 1.23205 2.03222 1.10667C2.03222 0.981326 2.13064 0.884432 2.25802 0.884432H2.48471H2.48832H2.49013C2.50589 0.884032 2.52156 0.879998 2.53688 0.87822C2.92647 0.862219 3.28639 0.666666 3.48862 0.34176C3.58205 0.19682 3.48035 0.00674779 3.30603 0.000569691C3.29867 0.000214117 3.29131 0.000214117 3.28399 0.000569691L3.28389 0ZM1.35307 0.883727H1.62298C1.59742 0.953597 1.58067 1.02787 1.58067 1.10596C1.58067 1.18423 1.59733 1.25815 1.62298 1.32819H1.4007C1.39334 1.32811 1.38598 1.32842 1.37867 1.32819H1.37596C1.36832 1.32819 1.36069 1.32819 1.35301 1.32819C1.22563 1.32819 1.12721 1.2313 1.12721 1.10596C1.12721 0.980576 1.22563 0.883727 1.35301 0.883727H1.35307ZM0.903226 4.21987C0.903226 4.621 0.899161 4.97773 0.895277 5.33104H6.33051C6.32645 4.97773 6.32256 4.621 6.32256 4.21987H0.903226ZM8.58064 5.55327L6.8183 6.68354C6.84481 7.50185 6.88578 8.12051 6.93208 8.66454H7.22581V9.99795H7.0882C7.14342 10.3326 7.20119 10.6242 7.25933 10.8522C7.4617 11.6456 7.67717 12.2082 7.67742 13.9956L14 14V5.55425L11.2903 7.33212V5.55425L8.58064 7.33212V5.55327ZM0.889113 5.7755C0.780595 12.1532 0 10.4834 0 13.9982H7.22581C7.22581 10.4834 6.44433 12.1532 6.33581 5.7755H0.889113ZM8.58064 8.66449H9.93548V9.99789H8.58064V8.66449ZM11.2903 8.66449H12.6452V9.99789H11.2903V8.66449ZM8.58064 11.3313H9.93548V12.6647H8.58064V11.3313ZM11.2903 11.3313H12.6452V12.6647H11.2903V11.3313Z"
                                  fill="#868BB2"/>
                            </svg>
                            {{ sheetDescription }}
                          </a>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              
            </div>
            <div class="row">
              <div class="col left-section-select-area">
                  <svg width="12" height="12" viewBox="0 0 12 12" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 0.000249982L4.66665 5.3335V10.6667L7.33335 12V5.33325L12 0H6.00012L0 0.000249982Z"
                          fill="white" />
                  </svg>
                  <span id="parameter-search" @click="isDisplayParameterBuilder = !isDisplayParameterBuilder"> Выбор параметров
                  </span>
              </div>
            </div>
            <div class="top-parameters-container row" v-if="isDisplayParameterBuilder">
              <div class="col table-wrapper col">
                  <div class="table-container">
                    <div class="table-container-column-header">
                    <div class="row">
                      <div class="my-table-border col-md-2" style="padding:0px;">
                        <div class="centered">Выбор</div>
                      </div>
                      <div class="my-table-border col-md-10">
                        <div class="centered">Параметр</div>
                      </div>
                    </div>
                  </div>
                  <div class="table-params-container">
                    <div class="row " v-for="sheetType in sheetTypes"  >
                  
                    <report-header-builder
                        v-model="attributesByHeader[sheetType]"
                        :data="attributesByHeader[sheetType]"
                        :translateAttribute="getAttributeDescription"
                        group="items"
                        v-if="isDisplayParametersOfSheet(sheetType)"
                    >
                    </report-header-builder>
                    </div>  
                  </div>
                </div>
              </div>
            </div> 
            <div class="row">
              <div class="table-wrapper col" >
                <div class="table-container">
                  <div class="table-container-column-header">
                    <div class="row">
                      <div class="my-table-border col-md-2" style="padding:0px;">
                        <div class="centered">Выбор</div>
                      </div>
                      <div class="my-table-border col-md-10">
                        <div class="centered">Объект</div>
                      </div>
                    </div>
                  </div>
                  <div class="table-container-element">
                    <template>
                      <report-constructor-item-select-tree
                          v-if="currentOption"
                          @modalChangeVisible="(value) => modalChangeVisible(value)"
                          @changeOrgSelector="changeOrgSelector()"
                          :structureType="currentStructureType"
                          :itemType="currentItemType"
                          :isShowCheckboxes="true"
                          :currentOption="currentOption"
                          :selectedObjects="selectedObjects[currentStructureType]"
                          :isCheckedCheckbox="isCheckedCheckbox"
                          ref="itemSelectTree"
                      >
                      </report-constructor-item-select-tree>
                    </template>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="arrow-hide" @click="onSectionHidingEvent('left')">
        <svg width="7" height="13" viewBox="0 0 7 13" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 12L1.03149 6.58081C0.989503 6.53506 0.989503 6.46488 1.03149 6.41881L6 1" stroke="white" stroke-width="2" stroke-miterlimit="22.9256" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="left-section-text">
        Параметры
      </div>
    </div>
    <div :class="{'hide': isLeftSectionHided}" class="section-main">
      <div class="col">
        <div class="row">
          <div class="col">
            <section class="section-top  bg-dark">
              <div class="vertical-centered">
                <div class="row date-container">
                  <div class="date-block">
                    <div class=" date-content ">
                      <label class="start-date-container__title">{{ trans('bd.start_date') }}</label>
                      <template>
                        <datetime
                            type="date"
                            v-bind:value="startDate"
                            v-on:input="onStartDatePickerClick($event)"
                            class="col start-date"
                            value-zone="Asia/Almaty"
                            zone="Asia/Almaty"
                            :title="trans('bd.choose_start_date')"
                            :format="{ year: 'numeric', month: 'numeric', day: 'numeric'}"
                            :phrases="{ok: trans('app.choose'), cancel: trans('app.cancel')}"
                            :max-datetime="endDate"
                            :week-start="1"
                            :placeholder="[[ trans('bd.dd_mm_yyyy') ]]"
                            auto
                            :flow="dateFlow"
                        >
                        </datetime>
                      </template>
                    </div>
                    <div class=" date-content ">
                      <label class="col">{{ trans('bd.end_date') }}</label>
                      <template>
                        <datetime
                            type="date"
                            v-bind:value="endDate"
                            v-on:input="onEndDatePickerClick($event)"
                            class="end-date"
                            value-zone="Asia/Almaty"
                            zone="Asia/Almaty"
                            :title="trans('bd.choose_end_date')"
                            :format="{ year: 'numeric', month: 'numeric', day: 'numeric'}"
                            :phrases="{ok: trans('app.choose'), cancel: trans('app.cancel')}"
                            :min-datetime="startDate"
                            :week-start="1"
                            :placeholder="[[ trans('bd.dd_mm_yyyy') ]]"
                            auto
                            :flow="dateFlow"
                        >
                        </datetime>
                      </template>
                    </div>
                     <button @click="clearDate()" class="clear-date"> Очистить дату</button>
                  </div>
                  <div class=" date-picker inline-flex">
                    <button
                        @click="onMonthClick()"
                        class="calendar "
                        v-bind:class="{active: currentDatePickerFilter === 'month'}"
                    >{{ trans('bd.month_3') }}
                    </button>

                    <button
                        @click="onYearClick()"
                        class="calendar justify-content-center "
                        v-bind:class="{active: currentDatePickerFilter === 'year'}"
                    >{{ trans('bd.year_1') }}
                    </button>
                  </div>

                  <div class="btn-container">
                    <button class="" @click="showTemplatesModal('templateSelectorModal')">{{
                        trans('bd.choose_template')
                      }}
                    </button>
                  </div>
                </div>

              </div>

            </section>
          </div>
        </div>
        
      </div>
      <div class="col">
        <div class="row">
          <div class="col">
            <div class="section-field bg-dark">
              <div class="row">
                <div class="section-field-inner col">
                    <div class="field">
                      Месторождение: АО “ЭмбаМунайГаз”  
                    </div>
                     <div class="share">
                        <svg width="13" height="14" viewBox="0 0 13 14" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M1.76383 2.38468V11.8153H11.1945V9.00618C11.1945 7.79285 12.9585 7.78005 12.9585 9.00618V12.6593C12.9585 13.1995 12.5785 13.5793 12.0384 13.5793H0.919759C0.379892 13.5793 0 13.1995 0 12.6593V1.54085C0 1.00072 0.379892 0.62085 0.919759 0.62085H4.71566C5.92926 0.62085 5.94259 2.38468 4.71566 2.38468H1.76383ZM11.1953 3.65202L9.45931 5.3584C8.97451 5.84413 7.50379 7.56307 6.86019 7.56307C6.19006 7.56307 6.01628 7.14802 6.01628 6.56722C6.01628 6.11322 7.85847 4.48198 8.257 4.08358L9.92773 2.38403C9.53933 2.38363 9.15292 2.38362 8.76465 2.38468C8.05412 2.38628 7.15869 2.45964 7.15869 1.46444C7.15869 0.971637 7.60556 0.62085 8.07796 0.62085H12.0384C12.5785 0.62085 12.9585 1.00072 12.9585 1.54085V5.50138C12.9585 6.04112 12.5785 6.42057 12.0384 6.42057C11.0995 6.42057 11.1941 5.3868 11.1945 4.73893C11.1953 4.37653 11.1953 4.01415 11.1953 3.65202Z"
                                fill="#82BAFF"/>
                        </svg>
                      </div>
                </div>
              </div>
            </div>
            <div class="section-filter bg-dark" v-if="statistics">
              <ul class="filter-block nav nav-tabs report-tab">
                <template v-for="(sheetType, index) in sheetTypes"  >
                  <li  :key="index" :class="` filter-item__${sheetType}`"  v-if="isStatisticsForSheetTypeExists(sheetType)">
                      <span class="filter-block__item " href="#"  :class="{ active: activeTab === index }"
                            @click="activeTab = index">
                        {{ sheetTypesDescription[sheetType] }}
                      </span>
                  </li>
                </template>
              </ul>
            </div>
            <section class="section-content bg-dark">
              <div class="row">
                <div class="table-wrapper col">
                  <div class="table-container" v-if="statistics">
                    <template v-for="(statisticsOfSheet, sheetType) in statistics">
                      <table v-if="sheetType === sheetTypes[activeTab]">
                        <thead>
                        <tr v-for="(attributesOnDepth, index) in getHeaders(sheetType)">
                          <th
                              v-for="attribute in attributesOnDepth"
                              :rowspan="getRowHeightSpan(attribute, index, sheetType)"
                              :colspan="getRowWidthSpan(attribute)"
                          >
                            <div class="centered">
                              {{ getAttributeDescription(attribute.label) }}
                            </div>
                          </th>
                        </tr>

                        </thead>
                        <tbody>
                        <template v-if="sheetType in sheetConfigurations">
                          <tr v-for="(row, uniqueId) in statisticsOfSheet" v-if="isContainsData(row)">
                            <td class="table-body" v-for="column in statisticsColumns[sheetType]['generic']">
                              <div class="centered" v-if="row[column]">
                                {{ formatCell(row[column]) }}
                              </div>
                            </td>
                            <template v-for="date in sheetConfigurations[sheetType]['orderedDates']">
                              <td class="table-body" v-for="column in statisticsColumns[sheetType]['daily']">
                                <div class="centered" v-if="row[date] && row[date][column]">
                                  {{ formatCell(row[date][column]) }}
                                </div>
                              </td>
                            </template>
                          </tr>
                        </template>
                        <template v-else>
                          <tr v-for="row in statisticsOfSheet" v-if="isContainsData(row)">
                            <td class="table-body" v-for="column in statisticsColumns[sheetType]['generic']">
                              <div class="centered" v-if="row[column]">
                                {{ formatCell(row[column]) }}
                              </div>
                            </td>
                          </tr>
                        </template>
                        </tbody>
                      </table>
                    </template>
                  </div>
                </div>
              </div>
              
            </section>
            <section class="button-section bg-dark">
              <div class="row">
                <div class="btn-container">
                    <button class="" :disabled="!startDate" @click="updateStatistics()">
                      {{ trans('bd.create_report') }}
                    </button>
                    <button @click="getStatisticsFile()">Скачать отчет</button>
                    <button @click="showModal('newTemplateNameModal')">Сохранить как шаблон</button>
                  </div>
                </div>
            </section>
          </div>
        </div>
      </div>
    </div>
    <div class="b-popup" style="display: none;">
      <div class="row" style="margin-top: 10%">
        <div class="col-md-2">
        </div>
        <div class="col-md-8 bg-dark b-container">
          <div class="row b-top">
            <div class="col">
              <p>Параметры объекта</p>
            </div>
            <div class="col flex">
              <button class="btn-exit">
                Закрыть
              </button>
            </div>
          </div>
          <div class="row b-content">
            <div class="col">
              <div class="table-container">
                <table>
                  <tr>
                    <th class="heading">
                      Параметр
                    </th>
                    <th class="heading">
                      Фильтры
                    </th>
                    <th class="heading"></th>
                  </tr>
                  <tr>
                    <td>Параметры скважин</td>
                    <td class="b-table-middle-column">
                      <div class="flex">
                        МРП >
                        <form>
                          <input type="number"></input>
                          <input type="button" class="btn-plus"></input>
                          <input type="button" class="btn-ok">
                          </input>
                        </form>
                      </div>
                    </td>
                    <td>
                      <div class="flex">
                        Бездействующие скважины
                        <form>
                          <input type="button" class="btn-plus"></input>
                        </form>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Параметры скважин</td>
                    <td class="b-table-middle-column">
                      <div class="flex">
                        МРП >
                        <form>
                          <input type="button" class="btn-plus">
                          </input>
                        </form>
                      </div>
                    </td>
                    <td>
                      <div class="flex">
                        Бездействующие скважины
                        <form>
                          <input type="button" class="btn-plus"></input>
                        </form>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Параметры скважин</td>
                    <td class="b-table-middle-column">
                      <div class="flex">
                        МРП >
                        <form>
                          <input type="button" class="btn-plus">
                          </input>
                        </form>
                      </div>
                    </td>
                    <td>
                      <div class="flex">
                        Бездействующие скважины
                        <form>
                          <input type="button" class="btn-plus"></input>
                        </form>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col flex">
              <button class="btn-accept">ОК</button>
              <button class="btn-dismiss">Отмена</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-2"></div>
    <div class="b-popup" style="display: none">
      <div class="row" style="margin-top: 10%">
        <div class="col-md-3">
        </div>
        <div class="col-md-6 bg-dark b-container">
          <div class="row b-top">
            <div class="col b-title">
              <div class="b-top-element">
                Оргструктура - <span class="width-400">АО “ЭмбаМунайГаз”</span> > НГДУ <span class="width-400">“Жылыоймунайгаз”</span>
                > <span class="width-400">Цех добычи 1</span> > <span class="width-400">ГУ-16 </span>
              </div>
              <div class="b-top-element">
                Геоструктура - <span class="width-400">АО “ЭмбаМунайГаз”</span> > <span
                  class="width-400">Макат Восточный</span>
              </div>
              <div class="b-progress">
                41%
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="progress-bar-container">
                <div class="progress-bar" style="width: 41%;">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col flex">
              <div class="b-title-format">
                Выберите формат отчета:
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col flex">
              <div class="icon-set">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                      d="M10 0C8.625 0 7.5 1.125 7.5 2.5V37.5C7.5 38.875 8.625 40 10 40H35C36.375 40 37.5 38.875 37.5 37.5V10L27.5 0H10Z"
                      fill="#E2E5E7"/>
                  <path d="M30 10H37.5L27.5 0V7.5C27.5 8.875 28.625 10 30 10Z" fill="#B0B7BD"/>
                  <path d="M37.5 17.5L30 10H37.5V17.5Z" fill="#CAD1D8"/>
                  <path
                      d="M32.5 32.5C32.5 33.1875 31.9375 33.75 31.25 33.75H3.75C3.0625 33.75 2.5 33.1875 2.5 32.5V20C2.5 19.3125 3.0625 18.75 3.75 18.75H31.25C31.9375 18.75 32.5 19.3125 32.5 20V32.5Z"
                      fill="#F15642"/>
                  <path
                      d="M7.94775 23.6837C7.94775 23.3537 8.20775 22.9937 8.6265 22.9937H10.9353C12.2353 22.9937 13.4053 23.8637 13.4053 25.5312C13.4053 27.1112 12.2353 27.9912 10.9353 27.9912H9.2665V29.3112C9.2665 29.7512 8.9865 29.9999 8.6265 29.9999C8.2965 29.9999 7.94775 29.7512 7.94775 29.3112V23.6837ZM9.2665 24.2524V26.7424H10.9353C11.6053 26.7424 12.1353 26.1512 12.1353 25.5312C12.1353 24.8324 11.6053 24.2524 10.9353 24.2524H9.2665Z"
                      fill="white"/>
                  <path
                      d="M15.3619 29.9997C15.0319 29.9997 14.6719 29.8197 14.6719 29.381V23.7035C14.6719 23.3447 15.0319 23.0835 15.3619 23.0835H17.6506C22.2181 23.0835 22.1181 29.9997 17.7406 29.9997H15.3619ZM15.9919 24.3035V28.781H17.6506C20.3494 28.781 20.4694 24.3035 17.6506 24.3035H15.9919Z"
                      fill="white"/>
                  <path
                      d="M23.7396 24.384V25.9728H26.2884C26.6484 25.9728 27.0084 26.3328 27.0084 26.6815C27.0084 27.0115 26.6484 27.2815 26.2884 27.2815H23.7396V29.3803C23.7396 29.7303 23.4909 29.999 23.1409 29.999C22.7009 29.999 22.4321 29.7303 22.4321 29.3803V23.7028C22.4321 23.344 22.7021 23.0828 23.1409 23.0828H26.6496C27.0896 23.0828 27.3496 23.344 27.3496 23.7028C27.3496 24.0228 27.0896 24.3828 26.6496 24.3828H23.7396V24.384Z"
                      fill="white"/>
                  <path
                      d="M31.25 33.75H7.5V35H31.25C31.9375 35 32.5 34.4375 32.5 33.75V32.5C32.5 33.1875 31.9375 33.75 31.25 33.75Z"
                      fill="#CAD1D8"/>
                </svg>
                <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0)">
                    <path
                        d="M23.1758 1.01666C22.9781 0.856036 22.7177 0.79463 22.4692 0.850021L0.802517 5.85002C0.421189 5.93768 0.152127 6.27877 0.155799 6.67002V35.0034C0.155955 35.4146 0.456033 35.7642 0.862439 35.8267L22.5291 39.1601C22.984 39.23 23.4095 38.918 23.4794 38.4631C23.4858 38.4213 23.4891 38.3791 23.4891 38.3368V1.67002C23.4899 1.41588 23.3745 1.17533 23.1758 1.01666Z"
                        fill="#4CAF50"/>
                    <path
                        d="M39.3219 35.8363H22.6551C22.1949 35.8363 21.8218 35.4632 21.8218 35.003C21.8218 34.5427 22.1949 34.1696 22.6551 34.1696H38.4885V5.83632H22.6551C22.1949 5.83632 21.8218 5.46319 21.8218 5.00296C21.8218 4.54272 22.1949 4.16968 22.6551 4.16968H39.3218C39.782 4.16968 40.1551 4.5428 40.1551 5.00304V35.003C40.1551 35.4633 39.7821 35.8363 39.3219 35.8363Z"
                        fill="#4CAF50"/>
                    <path
                        d="M15.9912 27.5045C15.7038 27.5045 15.4368 27.3564 15.2845 27.1128L6.95115 13.7794C6.69498 13.3971 6.79732 12.8794 7.17967 12.6233C7.56201 12.3671 8.07967 12.4694 8.33584 12.8518C8.34592 12.8668 8.35545 12.8821 8.36451 12.8977L16.6979 26.2311C16.9408 26.622 16.821 27.1358 16.4301 27.3788C16.2983 27.4607 16.1463 27.5042 15.9912 27.5045Z"
                        fill="#FAFAFA"/>
                    <path
                        d="M7.66026 27.503C7.20002 27.502 6.82768 27.1282 6.82862 26.668C6.82893 26.5123 6.87283 26.3599 6.95526 26.228L15.2886 12.8946C15.5194 12.4964 16.0293 12.3607 16.4274 12.5915C16.8257 12.8223 16.9614 13.3322 16.7306 13.7303C16.7215 13.7459 16.712 13.7612 16.7019 13.7762L8.36862 27.1096C8.21643 27.3544 7.94854 27.5032 7.66026 27.503Z"
                        fill="#FAFAFA"/>
                    <path
                        d="M29.3226 35.8366C28.8624 35.8366 28.4893 35.4635 28.4893 35.0033V5.00328C28.4893 4.54305 28.8624 4.16992 29.3226 4.16992C29.7829 4.16992 30.156 4.54305 30.156 5.00328V35.0033C30.1559 35.4636 29.7829 35.8366 29.3226 35.8366Z"
                        fill="#4CAF50"/>
                    <path
                        d="M39.3233 30.8366H22.6566C22.1964 30.8366 21.8232 30.4635 21.8232 30.0033C21.8232 29.543 22.1964 29.1699 22.6566 29.1699H39.3232C39.7835 29.1699 40.1566 29.543 40.1566 30.0033C40.1566 30.4636 39.7836 30.8366 39.3233 30.8366Z"
                        fill="#4CAF50"/>
                    <path
                        d="M39.3233 25.8366H22.6566C22.1964 25.8366 21.8232 25.4635 21.8232 25.0033C21.8232 24.543 22.1964 24.1699 22.6566 24.1699H39.3232C39.7835 24.1699 40.1566 24.543 40.1566 25.0033C40.1566 25.4636 39.7836 25.8366 39.3233 25.8366Z"
                        fill="#4CAF50"/>
                    <path
                        d="M39.3233 20.8366H22.6566C22.1964 20.8366 21.8232 20.4635 21.8232 20.0033C21.8232 19.543 22.1964 19.1699 22.6566 19.1699H39.3232C39.7835 19.1699 40.1566 19.543 40.1566 20.0033C40.1566 20.4636 39.7836 20.8366 39.3233 20.8366Z"
                        fill="#4CAF50"/>
                    <path
                        d="M39.3233 15.8366H22.6566C22.1964 15.8366 21.8232 15.4635 21.8232 15.0033C21.8232 14.543 22.1964 14.1699 22.6566 14.1699H39.3232C39.7835 14.1699 40.1566 14.543 40.1566 15.0033C40.1566 15.4635 39.7836 15.8366 39.3233 15.8366Z"
                        fill="#4CAF50"/>
                    <path
                        d="M39.3233 10.8366H22.6566C22.1964 10.8366 21.8232 10.4635 21.8232 10.0033C21.8232 9.54305 22.1964 9.16992 22.6566 9.16992H39.3232C39.7835 9.16992 40.1566 9.54305 40.1566 10.0033C40.1566 10.4636 39.7836 10.8366 39.3233 10.8366Z"
                        fill="#4CAF50"/>
                  </g>
                  <defs>
                    <clipPath id="clip0">
                      <rect width="40" height="40" fill="white" transform="translate(0.156738)"/>
                    </clipPath>
                  </defs>
                </svg>
                <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0)">
                    <path
                        d="M23.3321 1.01666C23.1343 0.856036 22.874 0.79463 22.6254 0.850021L0.958768 5.85002C0.577439 5.93768 0.308377 6.27877 0.312049 6.67002V35.0034C0.312205 35.4145 0.612283 35.7642 1.01869 35.8267L22.6853 39.1601C23.1403 39.23 23.5657 38.918 23.6356 38.4631C23.6421 38.4213 23.6453 38.3791 23.6453 38.3368V1.67002C23.6461 1.41588 23.5307 1.17533 23.3321 1.01666Z"
                        fill="#1565C0"/>
                    <path
                        d="M39.4796 35.8371H22.8129C22.3526 35.8371 21.9795 35.4639 21.9795 35.0037C21.9795 34.5435 22.3526 34.1703 22.8129 34.1703H38.6462V5.83705H22.8129C22.3526 5.83705 21.9795 5.46393 21.9795 5.00369C21.9795 4.54346 22.3526 4.17041 22.8129 4.17041H39.4795C39.9397 4.17041 40.3129 4.54354 40.3129 5.00377V35.0038C40.3129 35.464 39.9398 35.8371 39.4796 35.8371Z"
                        fill="#1565C0"/>
                    <path
                        d="M14.4808 27.5034C14.1095 27.503 13.7833 27.2569 13.6808 26.9L11.1474 18.0367L8.61408 26.9C8.43112 27.3423 7.92424 27.5525 7.4819 27.3696C7.26924 27.2816 7.10033 27.1127 7.01237 26.9L3.67909 15.2334C3.53955 14.7948 3.78205 14.3262 4.22065 14.1867C4.65924 14.0471 5.12784 14.2896 5.26737 14.7282C5.27229 14.7437 5.27674 14.7593 5.2808 14.775L7.81409 23.6367L10.3474 14.7734C10.5304 14.3311 11.0373 14.1209 11.4796 14.3038C11.6923 14.3918 11.8612 14.5607 11.9492 14.7734L14.4808 23.6367L17.0142 14.7751C17.1341 14.3365 17.5869 14.0781 18.0255 14.1981C18.0317 14.1998 18.0379 14.2016 18.0442 14.2034C18.4864 14.3301 18.7422 14.7911 18.6158 15.2334L15.2824 26.9C15.1798 27.2575 14.8527 27.5037 14.4808 27.5034Z"
                        fill="#FAFAFA"/>
                    <path
                        d="M36.1467 10.8366H22.8133C22.3531 10.8366 21.98 10.4635 21.98 10.0033C21.98 9.54305 22.3531 9.16992 22.8133 9.16992H36.1467C36.6069 9.16992 36.9801 9.54305 36.9801 10.0033C36.9801 10.4636 36.6069 10.8366 36.1467 10.8366Z"
                        fill="#1565C0"/>
                    <path
                        d="M36.1467 15.8366H22.8133C22.3531 15.8366 21.98 15.4635 21.98 15.0033C21.98 14.543 22.3531 14.1699 22.8133 14.1699H36.1467C36.6069 14.1699 36.9801 14.543 36.9801 15.0033C36.9801 15.4635 36.6069 15.8366 36.1467 15.8366Z"
                        fill="#1565C0"/>
                    <path
                        d="M36.1467 20.8366H22.8133C22.3531 20.8366 21.98 20.4635 21.98 20.0033C21.98 19.543 22.3531 19.1699 22.8133 19.1699H36.1467C36.6069 19.1699 36.9801 19.543 36.9801 20.0033C36.9801 20.4636 36.6069 20.8366 36.1467 20.8366Z"
                        fill="#1565C0"/>
                    <path
                        d="M36.1467 25.8366H22.8133C22.3531 25.8366 21.98 25.4635 21.98 25.0033C21.98 24.543 22.3531 24.1699 22.8133 24.1699H36.1467C36.6069 24.1699 36.9801 24.543 36.9801 25.0033C36.9801 25.4636 36.6069 25.8366 36.1467 25.8366Z"
                        fill="#1565C0"/>
                    <path
                        d="M36.1467 30.8366H22.8133C22.3531 30.8366 21.98 30.4635 21.98 30.0033C21.98 29.543 22.3531 29.1699 22.8133 29.1699H36.1467C36.6069 29.1699 36.9801 29.543 36.9801 30.0033C36.9801 30.4636 36.6069 30.8366 36.1467 30.8366Z"
                        fill="#1565C0"/>
                  </g>
                  <defs>
                    <clipPath id="clip0">
                      <rect width="40" height="40" fill="white" transform="translate(0.312988)"/>
                    </clipPath>
                  </defs>
                </svg>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col flex">
              <button class="btn-accept">Скачать</button>
              <button class="btn-dismiss">Отмена</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-3"></div>
  </div>

  <div class="row" v-else-if="microserviceApiVersion === null">
    <div class="modal-bign-title">
      Проблема соединения с сервисом. Обновите страницу
    </div>
  </div>
  <div class="row" v-else>
    <div class="modal-bign-title">
      Версия API не соответствует версия фронтенд {{ frontendApiVersion }}, версия сервиса {{ microserviceApiVersion }}
    </div>
  </div>
</template>

<script src="./ReportConstructor.js"></script>

<style scoped lang="scss">


.table-params-container {
  padding: 10px 0;
}
#parameter-search {
    background: #3C4280;
    border-radius: 5px;
    height: 30px;
    padding: 6px 0px 5px 10px;
    font-weight: 400;
    font-size: 16px;
    font-family: "Harmonia Sans Pro Cyr", "Harmonia-sans";
    line-height: 19px;
    display: flex;
    width: 100%;
    &:hover {
      background: #334296;
    }
}

.search-report {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    margin-bottom: 10px;
    svg {
        width: 14px;
        height: 14px;
    }
    &-inner {
        background: #1F2142;
        border: 0.5px solid #454FA1;
        display: flex;
        align-items: center;
        width: calc(100% - 21px);
    }
    &-input {
      height: 30px;
      background: #1F2142;
      border: none;
      outline: none;
      width: calc(100% - 43px);
      text-indent: 15px;
      font-size: 16px;
      color: #B6BAD9;
      &::placeholder {
        color: #B6BAD9;
      }
    }
    &-btn {
      background: rgba(123, 132, 173, 0.64);
      width: 40px;
      height: 24px;
      border: none;
      color: #fff;
      &:hover{
        background:#334296;
      }
    }
}

.top-drop-down-asside {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.dropdown-parent {
    align-items: center;
    display: flex;
    width: 48%;
    position: relative;
    padding-left: 20px;
    & > svg {
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
  }
}
.left-section-inner {
    background: #363B68;
    padding: 10px;
    &-content {
        background: #272953;
        padding: 10px;
        height: calc(100vh - 152px);
        overflow-y: auto;
        overflow-x: hidden;
    }
    .table-container {
      height: auto;
    }
    .bd-forms {
        margin-bottom: 10px;
    }
    &::-webkit-scrollbar-track {
      background: #181837;
      width: 6px !important;
      height: 6px;
    }
    &::-webkit-scrollbar-thumb {
      background: #656a8a;
      border-radius: 10px;
      border: 3px solid #181837;
    }
    
}
.date {
  display: flex;
  align-items: center;
}
.date-block {
    display: flex;
}

.date-content {
  display: flex;
  align-items: center;
  margin-right: 15px;
  & > label {
    white-space: nowrap;
  }
}
.clear-date {
    background: #3C4280;
    border: 0.5px solid #454FA1;
    box-sizing: border-box;
    border-radius: 4px;
    color: #fff;
    padding: 7px 12px 7px 28px;
    font-size: 14px;
    line-height: 1;
    background-image: url('/img/bd/close_tab.svg');
    background-repeat: no-repeat;
    background-position: left 8px center;
    white-space: nowrap;
}
.section-field {
    padding: 11px 7px 11px 7px;
    margin-bottom: 10px;
}
.section-field-inner {
    background: #323370;
    border: 1px solid #545580;
    width: 100%;
    margin: 0 20px;
    padding: 5px 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.field {
  font-weight: 600;
  font-size: 16px;
  line-height: 1.4;
  padding-left: 30px;
  position: relative;
  background-image: url(/img/bd/field_icon.svg);
  background-repeat: no-repeat;
  background-position: left center;
  background-size: 16px;
}
.section-filter {
    padding: 5px 10px;
    margin-bottom: 10px;
}
.filter-block {
    display: flex;
    justify-content: space-between;
    list-style: none;
    margin: 0;
    border:none;
    li {
      width: 24.5%;
    }
}
.filter-block__item{
    padding: 9px 23px 7px 36px;
    background-color: #333975;
    border-radius: 4px;
    font-size: 16px;
    height: 40px;
    line-height: 1;
    color: #fff;
    background-repeat: no-repeat;
    background-position: left 8px center;
    display: flex;
    align-items: center;
    &.active,&:hover {
      background-color: #3366FF;
      cursor: pointer;
    }
}
.filter-item{
  width: 24.5%;
  &__well_production span  ,&__well_pump span{
    background-image: url(/img/bd/well_icon.svg);
  }
  &__object span {
    background-image: url(/img/bd/object_icon.svg);
  }
  &__well_summary span,&__object_summary span {
    background-image: url(/img/bd/well_sum_data_icon.svg);
  }
}

$dark-font: #1F2142;
$HarmoniaSansProCyr: "Harmonia Sans Pro Cyr", "Harmonia-sans";
@mixin st-font-16-700 {
  font-family: $HarmoniaSansProCyr;
  font-size: 16px;
  line-height: 19px;
  font-weight: 700;
}

@mixin st-font-16-400 {
  font-family: $HarmoniaSansProCyr;
  font-size: 16px;
  line-height: 19px;
  font-weight: 400;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #1A214A;
}

::-webkit-scrollbar-thumb {
  background: #656A8A;
  border-radius: 4px;
  border: 3px solid #1A214A;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

body {
  color: white;
}

.flex {
  display: flex;
}

.left-section.hide{
  width: 50px;
  background: #272953;
  overflow: hidden;

}

.left-section.hide div{
  display: none;
}
.left-section.hide .left-section-text {
  display: flex;
}
.left-section.hide .arrow-hide {
  display: flex;
  transform: translateY(-50%) rotate(180deg);
}

.left-section-text {
    font-size: 14px;
    line-height: 17px;
    display: flex;
    align-items: center;
    text-align: center;
    color: #FFFFFF;
    transform: rotate(
-90deg) translateY(-50%);
    display: block;
    position: absolute;
    right: -13px;
    top: 49%;
    display: none;
}
.arrow-hide {
  position: absolute;
  top: 0;
  right: 0;
  width: 13px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #2B3384;
  border-radius: 5px 0px 0px 5px;
  top: 50%;
  transform:translateY(-50%);
}

.arrow-hide:hover{
  background: #3366FF;
  cursor: pointer;
}

.left-section{
    width: 441px;
    margin-left: 15px;
    height: calc(100vh - 91px);
    overflow: hidden;
    position: relative;
    @media(max-width: 800px) {
      margin-top: 10px;
      width: 100%;
    }

  :after {
    margin: 0px;
  }

  .left-section-title {
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    font-family: $HarmoniaSansProCyr;
    font-weight: 700;
    font-size: 13.5px;
    
    line-height: 19px;
    letter-spacing: 1px;
    border-radius: 2px;
    cursor: pointer;
    background: #31335F;
    border-radius: 5px 5px 0 0;
    margin-right: 10px;
    padding: 5px;
    color: #8389AF;
    svg {
      margin-right: 10px;
      path {
          fill: #8389AF;
      }
    }
  }

  .active {
    background-color: #363B68;
    color:#fff;
    svg path {
          fill: #fff;
      
    }
  }

  .left-section-title:not(.active):hover {
    background-color: #323370;
  }

  .left-section-title:active {
    background-color: #3366FF;
  }

  .dropdown-item {
    color: white;
    font-family: $HarmoniaSansProCyr;
    font-size: 16px;
    line-height: 1.3;
    font-weight: 400;
    padding: 5px 0;
    border-radius: 5px;
    display: flex;
    .dropdown-item-inner {
      margin-left: 11px;
      margin-top: auto;
      margin-bottom: auto;
      display: flex;
      width: 100%;
      color: white;
      pointer-events: none;

      a {
        color: white;
        text-decoration: none;
      }
    }
  }

  .menu {
    align-items: center;
    display: flex;
    margin-top: 10px;
  }

  .dropdown-menu.show {
    background: #1A214A;
    color: white;
    padding: 0px;
    border-radius: 6px;
    border: 0px;
    & > ul {
    border: 1px solid #1A214A;

    }
    :hover {
      border: 1px solid #3366FF;
      border-radius: 6px;
    }

    .dot {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      height: 10px;
      width: 10px;
      background-color: #09ff00;
      border-radius: 50%;
    }

    .dropdown-item:hover, .dropdown-item:focus {
      background: rgba(51, 102, 255, 0.5);
      border: 0px;
    }

    svg {
      margin-right: 14px;
      margin-bottom: 4px;
    }

    ul {
      margin: 0px;
    }
  }

  .dropdown {
      position: relative;
      display: inline-block;
      width: 100%;
  }

  .btn-secondary {
    border-radius: 5px;
    height: 30px;
    padding: 6px 0px 5px 10px;
    background: $dark-font;
    font-weight: 400;
    font-size: 16px;
    font-family: $HarmoniaSansProCyr;
    line-height: 19px;
    display: flex;
    width: 100%;
    background: #3C4280;
    .icon-pointer {
      width: 10px;
      height: 10px;
      white-space: nowrap;
      background: url(/img/bd/pointer.svg) 50% 100% no-repeat;
      margin: auto 10px auto auto;
      border: 0px;
    }

    .dropdown-inner-text {
      text-align: left;
      color: #B6BAD9;
      overflow: hidden;
      margin-right: 6px;
    }
  }

  .dropdown-toggle::after {
    display: none;
  }

  .dropdown-toggle:focus {
    box-shadow: none;
    border: 1px solid #3366FF;

    .icon-pointer {
      transform: scale(-1);
    }
  }


  .dropdown-toggle:active {
    box-shadow: none;
    background: #1F2142;
    border: 1px solid #3366FF;

    .icon-pointer {
      transform: scale(-1);
    }
  }

  .left-section-select-area {
    margin: 20px 0;
    width: 100%;
    display: flex;
    form {
        width: 100%;
    }
    .last-element {
      margin-left: auto;
    }

    svg {
      margin-right: 10px;
      margin-top: auto;
      margin-bottom: auto;
    }

    form {
      button{
        border-radius: 5px;
        height: 30px;
        padding: 6px 0px 5px 10px;
        background: #1F2142;
        font-weight: 400;
        font-size: 16px;
        font-family: "Harmonia Sans Pro Cyr", "Harmonia-sans";
        line-height: 19px;
        display: flex;
        width: 100%;
        background: #3C4280;
        outline: none;
        border: none;
        color: #fff;
      }
    }
  }

  .table-wrapper {
    padding: 0px 10px;
  }
}

.left-section-table-content {
  display: flex;

  .table-col {

    &:first-child {
      width: 35px;
    }

    &:nth-child(2) {
      width: 35px;
    }

    &:nth-child(3) {
      width: 350px;
    }
  }
}

.section-main.hide {
  max-width: calc(100% - 70px);
}

.section-main {
  max-width: calc(100% - 460px);
  width: 100%;

  @media(max-width: 800px) {
    max-width: 100%;
    margin-top: 10px;
  }

  .section-top {
    min-width: 250px;
    display: flex;
    min-height: 52px;
    width: 100%;
    margin-bottom: 10px;
    padding: 11px 7px 11px 7px;

    .col {
      margin: 0px;
      padding: 0px;
    }

    span, label {
      font-family: $HarmoniaSansProCyr;
      font-weight: 700;
      font-size: 14px;
      line-height: 19px;
    }

    input[type="date"] {
      width: 142px;
      margin-right: 35px;
      background: #1F2142;
      color: #B6BAD9;
      border-radius: 4px;
      border: 0.5px solid #454FA1;
      padding: 0px 0px 0px 15px;
      font-size: 16px;
      font-weight: 400;
      font-family: $HarmoniaSansProCyr;

      &::-webkit-calendar-picker-indicator {
        background: url(/img/bd/webkit-calendar.svg) 50% 50% no-repeat #363B68;
        width: 30px;
        height: 30px;
        padding: 0px;
        margin: 0px;
      }
    }

    .date-container{
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        margin: 0 10px;
        flex-wrap: nowrap;
        overflow-x: auto;
        
        &::-webkit-scrollbar-track {
          background: #181837;
          height: 2px !important;
          width: 2px !important;
        }
        &::-webkit-scrollbar-thumb {
          background: #656a8a;
          border-radius: 10px;
          border: 3px solid #181837;
        }
      label {
        margin-right: 10px;
      }

      .vdatetime::v-deep .vdatetime-input {
        width: 142px;
        background: #1F2142;
        color: #B6BAD9;
        border-radius: 4px;
        border: 0.5px solid #454FA1;
        font-size: 16px;
        font-weight: 400;
        font-family: $HarmoniaSansProCyr;
        padding: 0 0 0 19px;
        background-image: url(/img/bd/webkit-calendar.svg);
        background-position: 102% center;
        background-repeat: no-repeat;
      }

      .vdatetime::v-deep .vdatetime-popup__year,
      .vdatetime::v-deep .vdatetime-popup__date {
        display: none;
      }

      @media(min-width: 1035px) {
        .start-date-container {
          display: flex;
          margin-right: 30px;
        }
      }
    }

  .date-picker {
    justify-content: center;
    flex-wrap: nowrap;
      .calendar {
        display: flex;
        align-items: center;
        margin-right: 10px;
        font-family: $HarmoniaSansProCyr;
        font-size: 14px;
        font-weight: 700;
        line-height: 19px;
        background: url(/img/bd/date-time.svg) 1% no-repeat;
        padding: 0px 35px;
        width: 100px;
        height: 25px;
        border: none;
        border-radius: 2px;
        color: #fff;
        cursor: pointer;
      }

      .calendar:not(.active):hover {
        background-color: #323370;
      }

      .active {
        color: #fff;
        background-color: #3366FF;
      }
    }
  }
  .button-section{
      padding: 15px;
      justify-content: center;
      display: flex;
  }
  .section-content {
      display: block;
      height: calc(100vh - 375px);
      padding: 0px 14px;
      overflow-y: auto;
      overflow-x: auto;
      margin-bottom: 10px;
      .table-wrapper {
        margin: 0px;
      }

    .content-top {
      display: inline-flex;
      margin: 12px 14px;

      .share {
        float: right;
        margin: 7px 1px 7px auto;
      }

      .content-top-element {
        padding-right: 15px;
        font-family: $HarmoniaSansProCyr;
        font-weight: 700;
        font-size: 16px;
        line-height: 19px;
        margin-bottom: auto;

        .width-400 {
          font-weight: 400;
        }
      }
    }

    .table-wrapper {
      margin: 0px 14px;

      .table-container {
        height: 750px;

        table {
          color: white;
          border-collapse: collapse;
          border: 1px solid #454D7D;
          width: 100%;

          .centered {
            display: table;
            margin: auto;
          }

          .cell-num {
            width: 40px;
          }

          .heading {
            background-color: #323370;
            @include st-font-16-700;
          }

          .heading-child {
            background-color: #323370;
            @include st-font-16-400;
          }

          .table-body {
            @include st-font-16-400;

            button {
              min-height: 30px;
              border-radius: 6px;
              background: #3C4280;
              color: white;
              padding: 6px 43px 3px 8px;

              &::after {
                content: url(/img/bd/cansel.svg);
                height: 16px;
                width: 16px;
                margin-top: -1px;
                position: relative;
                margin-left: 10px;
              }
            }
          }

          .selected {
            background-color: #282c5c;
          }

          tr:nth-child(2n) .selected {
            background-color: #32386a;
          }
        }

        td, th {
          border: 1px solid #454D7D;
          text-align: left;
          padding: 8px;
        }

        tr {
          background-color: rgba(39, 41, 83, 1);
        }

        tr:nth-child(2n) {
          background-color: rgba(54, 59, 104, 0.7);
        }
      }

      .my-table-border {
        border-top: 1px solid #454D7D;
        border-right: 1px solid #454D7D;
        border-bottom: 0px;
        border-left: 1px solid #454D7D;
      }

      .col-tb-1 {
        max-width: 40px;
        padding: 0px;
        height: auto;
      }

      .col-tb-2 {
        max-width: 250px;
        height: auto;
      }

      .col-tb-3 {
        max-width: 250px;
        height: auto;
      }

      .col-tb-4 {
        max-width: calc(100% - 40px - 250px - 250px);
        min-width: 350px;
        display: inline-grid;
        height: auto;
      }

      .table-container-column-header {
        height: auto;
        min-height: 80px;

        .nested {
          :nth-child(1n) {
            padding: 0px;
            min-width: 100px;
            margin: 0px;

            .centered {
              padding-top: 10px;
              border-right: 1px solid #454D7D;
              height: 100%;
            }
          }
        }

        .nested-border {
          border-top: 0px;
          border-right: 0px;
          border-bottom: 1px solid #454D7D;
          border-left: 0px;
        }
      }

      .table-container-element {
        .col-tb-1 {
          height: auto;
        }

        .col-tb-2 {
          height: auto;
        }

        .col-tb-3 {
          height: auto;
        }
      }
    }

    .btn-container {
      margin-right: auto;
      margin-left: auto;
    }
  }
}

.row {
  display: flex;
  color: white;
}

.custom-checkbox {
  .container {
    padding: 0px;
    display: flex;
    position: relative;
    cursor: pointer;
    margin: 0px;
  }

  .container input {
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
  }

  .checkmark {
    height: 14px;
    width: 14px;
    background-color: white;
    border-radius: 3.5px;
    border: 1px solid #237DEB;
    margin-bottom: auto;
    margin-top: auto;
  }

  .container input:checked ~ .checkmark {
    background: #237DEB;

  }

  .checkmark:after {
    content: "";
    position: relative;
    display: none;
  }

  .container input:checked ~ .checkmark:after {
    display: block;
  }

  .container .checkmark:after {
    width: 4px;
    height: 8px;
    border: solid white;
    border-width: 0 1.5px 1.5px 0;
    transform: rotate(
            45deg
    );
    position: inherit;
    margin: auto;
  }
}

.vertical-centered {
  width: 100%;
  display: flex;

  .row {
    width: 100%;
    margin: 0px;
  }

  :first-child .row {
    margin: 0px;
  }

  :nth-child(1n) {
    margin-top: auto;
    margin-bottom: auto;
  }

  .col {
    display: flex;
  }
}

.inline-flex {
  display: inline-flex;
  flex-wrap: wrap;
}

.table-container {
  background-color: #272953;
  overflow-y: auto;
  overflow-x: auto;
  width: 100%;
  color: white;
  border: 1px solid #454D7D;
  height: 821px;
  margin-bottom: 20px;

  .row {
    margin-right: 0px;
    margin-left: 0px;
  }

  .centered {
    margin: auto;
  }

  .no-left-margin {
    margin-left: unset;
  }

  .col-md-1 {
    padding: 0px;
  }

  .table-container-header {
    text-align: center;
    padding: 14px 20px 0px 20px;
    background-color: #32346C;
  }

  .table-container-column-header {
    text-align: center;
    background-color: #323370;
    height: 38px;
    font-size: 16px;
    font-weight: 700;
    line-height: 19px;
    font-family: $HarmoniaSansProCyr;

    .row {
      height: 100%;
    }
  }


  .table-container-element {
    background-color: #272953;
    border: 1px solid #454D7D;
    font-size: 16px;
    font-weight: 400;
    line-height: 19px;
    font-family: $HarmoniaSansProCyr;
    .table-container-svg {
      display: flex;
    }

    .col-md-1 {
      max-width: 40px;
    }

    .svg-element {
      padding: 5px 13px 5px 23px;
      display: grid;

      svg {
        margin-left: auto;
        margin-right: auto;
        margin-top: auto;
        margin-bottom: auto;
      }
    }

    .element-position {
      padding: 5px 13px 5px 23px;
      display: flex;

      p {
        float: right;
        margin-top: auto;
        margin-bottom: auto;
        margin-left: auto;
      }

      .title {
        margin-left: unset;
        margin-right: auto;
      }

      svg {
        margin: auto;
      }
    }

    .row {
      min-height: 38px;

      &:nth-child(2n) {
        background-color: rgba(69, 77, 125, 0.5);

      }
    }

    .child-row {
      background: #363f77;

      &:nth-child(2n) {
        background-color: #282f64;

      }
    }
  }

  .row {
    margin-right: 0px;
  }

  .my-table-border {
    border: 1px solid #454D7D;
    display: flex;

    p {
      margin-top: auto;
      margin-bottom: auto;
    }
  }

  .pointer-child {
    margin: auto 25px auto 20px;
  }

  .pointer {
    transform: scale(1);

    svg {
      path {
        fill: #868BB2;
      }
    }
  }
}

.btn-container {
  display: flex;
  justify-content: center;

  button {
    background: #3C4280;
    color: white;
    border: 1px solid #3C4280;
    border-radius: 6px;
    white-space: nowrap;
    font-weight: 700;
    font-family: "Harmonia Sans Pro Cyr", "Harmonia-sans";
    font-size: 14px;
    line-height: 19px;
    padding: 7px 12px 7px 28px;
    float: right;
    margin:0 5px;
    &:hover {
      background: #3366FF;
      color: white;
    }
  }

  button:disabled {
    background: rgba(60, 66, 128, 0.6);
    color: rgba(255, 255, 255, 0.6);
  }
}

.b-popup {
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
  position: absolute;
  display: block;
  z-index: 1000;
  @include st-font-16-700;

  .b-top-element {
    padding-right: 15px;
    font-family: $HarmoniaSansProCyr;
    font-weight: 700;
    font-size: 18px;
    line-height: 19px;
    margin-bottom: auto;
    margin-left: auto;
    margin-right: auto;

    .width-400 {
      font-weight: 400;
    }
  }

  .b-progress {
    margin-left: auto;
    margin-right: auto;
    margin-top: 36px;
    font-family: $HarmoniaSansProCyr;
    font-size: 24px;
    font-weight: 600;
    line-height: 28.8px;
    color: #3366FF;
  }

  .b-title-format {
    margin: 62px auto 25px auto;
    font-family: $HarmoniaSansProCyr;
    font-size: 18px;
    font-weight: 600;
    line-height: 21.4px;
  }

  .icon-set {
    margin: auto;
    margin-bottom: 49px;

    &:nth-child(1n) svg {
      margin-right: 29px;
      margin-left: 29px;
    }
  }

  .progress-bar-container {
    height: 22px;
    border: 5px solid #3366FF;
    border-radius: 15px;
    display: flex;
    max-width: 445px;
    margin-left: auto;
    margin-right: auto;

    .progress-bar {
      height: 8px;
      margin-top: auto;
      margin-bottom: auto;
      border-bottom-left-radius: 20px;
      border-top-left-radius: 20px;
    }
  }

  form {
    input[type=number] {
      background: #1F2142;
      color: white;
      width: 126px;
      height: 23px;
      border: none;
      padding: 4px 5px 0px;
    }

    .btn-plus {
      background: url(/img/icons/plus.svg) 50% 40% no-repeat;
      height: 16px;
      width: 16px;
      border: 1px solid white;
      border-radius: 3px;
      margin: 0px 13px;
      position: absolute;
    }

    .btn-ok {
      height: 16px;
      width: 16px;
      border-radius: 3.5px;
      border: 1px solid #237DEB;
      margin-bottom: auto;
      margin-top: auto;
      background: url(/img/bd/ok.svg) 50% 50% no-repeat #237DEB;
      margin-left: 43px;
    }
  }

  .centered {
    display: table;
    margin: auto;
  }

  table {
    border-collapse: collapse;
    width: 100%;
    max-height: 850px;

    td, th {
      height: 31px;
      text-align: left;
      padding: 8px;
    }

    .heading {
      background-color: #2b40a9;

      &:first-child {
        background: #293787;
        width: 25%;
      }

      &:nth-child(2) {
        width: 37.5%;
      }

      &:nth-child(3) {
        width: 37.5%;
      }
    }

    .b-table-middle-column {
      background: rgba(255, 255, 255, 0.04);
    }

    tr {
      background-color: #343868;
    }

    tr:nth-child(2n) {
      background-color: #2b2e5e;
    }
  }

  .table-container {
    border-right: 0.75px solid #3C4270;
    border-bottom: 0.75px solid #3C4270;
    border-left: 0px;
    border-top: 0px;
    height: 350px;
  }

  .b-top {
    margin-bottom: 21px;
  }


  .b-content {
    margin-bottom: 24%;
  }

  .b-container {
    padding: 22px 22px;
    border-radius: 10px;

    .btn-wrapper {
      margin-top: 190px;
      display: flex;
    }

    .b-title {
      display: grid;
      margin-top: 2px;

      &:first-child .b-top-element {
        margin-bottom: 20px;
      }
    }

    buttton {
      color: white;
      border-radius: 7px;
      box-shadow: none;
      color: white;
    }

    .btn-accept {
      background: #2E50E9;
      border: 1px solid #2E50E9;
      width: 175px;
      height: 42px;
      border-radius: 6px;
      margin-right: 10px;
      margin-left: auto;
      color: white;
    }

    .btn-dismiss {
      background: #656A8A;
      border: 1px solid #656A8A;
      width: 175px;
      height: 42px;
      border-radius: 6px;
      margin-right: auto;
      margin-left: 10px;
      color: white;
    }

    ul.hierarchy {
      padding-left: 5px;
    }

    .btn-exit {
      background: #656A8A;
      border: 1px solid #656A8A;
      padding: 6px 17px 4px 17px;
      border-radius: 9px;
      margin-left: auto;
      font-family: $HarmoniaSansProCyr;
      font-size: 14px;
      font-weight: 400;
      color: white;
      line-height: 14px;
      max-height: 26px;
    }
  }
}

.b-popup .b-popup-content {
  margin: 40px auto 0 auto;
  width: 100px;
  height: 40px;
  padding: 10px;
  background-color: #c5c5c5;
  border-radius: 10px;
  box-shadow: 0 0 10px #000;
}

.nav-link.report-link.active {
  background: #fffef5;
}

.nav-tabs.report-tabs {
  border-bottom-color: #272953;
}

.templates {
  overflow-y: auto;
  max-height: 300px;
  width: 100%;
  font-size: 18px;
  text-align: center;

  :hover {
    border: 1px solid #3366FF;
    border-radius: 6px;
  }
}

.template-name-ok {
  margin-left: 114px;
}
@media (max-width: 1640px) {
  .section-main .section-top .date-picker {
      flex-wrap: wrap;
      font-size: 12px;
  }
  .section-main .section-top label {
      font-size: 12px;
  }
  .section-content {
    display: block;
    height: calc(100vh - 375px);
  }
}
</style>

